---
layout: doc_page
title: Windows Phone 8 - Using native pages in hybrid applications
date: 2014-12-17 09:20:46.000000000 +02:00
type: doc_page
published: true
status: publish
categories: []
tags:
- 7-0
meta:
  _wpcom_is_markdown: '1'
  _edit_last: '6643'
  _wpas_done_all: '1'
  _syntaxhighlighter_encoded: '1'
author:
  login: nathanh@il.ibm.com
  email: NATHANH@il.ibm.com
  display_name: Nathan Hazout
  first_name: NATHAN
  last_name: HAZOUT
---
<p class="breadcrumbs">
 &lt; <a href="https://developer.ibm.com/mobilefirstplatform/documentation/getting-started-7-0/adding-native-functionality/">Adding native functionality to hybrid applications</a></p>
<div id="samplesAndPersonas">
<div>
    Relevant to:</p>
<ul id="relevantForPersona">
<li class="hybrid">Hybrid</li>
</ul>
</div>
<ul>
<li class="download-sample">
          <a href="http://public.dhe.ibm.com/software/products/en/MobileFirstPlatform/docs/v700/UsingNativePagesInHybridAppsProject.zip">Download Studio project</a>
        </li>
</ul>
</div>
<h2>Overview</h2>
<p>This tutorial explains how to create and integrate native and web "pages" in a Windows Phone 8 application by using the <code>WL.NativePage.show()</code> API to open a native page from JavaScript.</p>
<p>With this method, you can have data sent from JavaScript to the open native page and specify a callback to be called after the native page closes.</p>
<p>This tutorial covers the following topics:</p>
<ul>
<li><a href="#connect">Connecting to the plugin from the JavaScript code</a></li>
<li><a href="#create">Creating a native page</a></li>
<li><a href="#control">Returning control to the web view</a></li>
<li><a href="#sample">Sample application</a></li>
</ul>
<h2 id="connect">Connecting to the plugin from the JavaScript code</h2>
<ol>
<li>Implement the <code>WL.NativePage.show()</code> to open the native page.
<p>[code lang="js"]function openNativePage(){<br />
    var params = {<br />
        nameParam : $('#nameInput').val()<br />
    };<br />
    WL.NativePage.show(nativePageClassName, backFromNativePage, params);<br />
}[/code]</p>
<ul>
<li><code>nativePageClassName</code>: The name of a native WP8 class to start.</li>
<li><code>backFromNativePage</code>: A callback function to call when the native page closes.</li>
<li><code>params</code>: An optional custom parameters object to pass to the native code.</li>
</ul>
</li>
<li>To handle the callback function:
<p>[code lang="js"]function backFromNativePage(data){<br />
  alert(&quot;Received phone number is: &quot; + data.phoneNumber);<br />
}[/code]</p>
<p>The <code>backFromNativePage(data)</code> parameter can pass data back to the web part of an application after the native closes.</li>
</ol>
<h2 id="create">Creating a native page</h2>
<p>For Windows Phone 8, implement the native page as a Windows Phone User Control, or extend an existing one.</p>
<h3>Step 1</h3>
<p>In the new User Control, add <code>using Cordova.Extension.Commands;</code> to the <code>.cs</code> file, and use the same package and class name as in the <code>WL.NativePage</code> API call in the JavaScript:</p>
<p>[code lang="csharp"]using Cordova.Extension.Commands;<br />
using Newtonsoft.Json;</p>
<p>namespace NativePagesInHybridApp<br />
{<br />
    public partial class HelloNative : UserControl<br />
    {[/code]</p>
<h3>Step 2</h3>
<p>To retrieve custom data parameters that are passed from the web view, use the <code>WLNativePage.Data:(NSDictionary*)data</code> method.</p>
<p>In the example below, the data is sent as a JSON string. For this purpose, the external <code>JSON.NET</code> library is used to convert the incoming JSON string to a native dictionary. For more information, see the <a href="http://json.codeplex.com/">JSON.NET</a> page.</p>
<p>[code lang="csharp" firstline="8"]InitializeComponent();<br />
            if (WLNativePage.Data != null)<br />
            {<br />
                Dictionary&lt;string, string&gt; data = JsonConvert.DeserializeObject&lt;Dictionary&lt;string, string&gt;&gt;(WLNativePage.Data);<br />
                NameReceivedTextBlock.Text = &quot;Hello &quot; + data[&quot;nameParam&quot;];<br />
                tb_returnValue.Text = &quot;1234567890&quot;;<br />
            }[/code]</p>
<h2 id="control">Returning control to the web view</h2>
<p>When the native page needs to switch back to the web view, it calls the <code>WLNativePage.backFromNative</code> method.<br />
Data can be passed back to the web view as parameters to the call.</p>
<h3>Objective-C</h3>
<p>[code lang="csharp"]    void DoneButton_Click(object sender, RoutedEventArgs e)<br />
        {<br />
            Dictionary&lt;string, string&gt; data = new Dictionary&lt;string, string&gt;<br />
            {<br />
                { &quot;phoneNumber&quot;, tb_returnValue.Text }<br />
            };</p>
<p>            string json = JsonConvert.SerializeObject(data, Formatting.Indented);<br />
            WLNativePage.backFromNative(this, json);<br />
        }<br />
    }<br />
}[/code]</p>
<h3>JavaScript</h3>
<p>[code lang="js"]function backFromNativePage(data){<br />
    alert(&quot;Received phone number is: &quot; + data.phoneNumber);<br />
}[/code]</p>
<h2 id="sample">Sample application</h2>
<p><a href="http://public.dhe.ibm.com/software/products/en/MobileFirstPlatform/docs/v700/UsingNativePagesInHybridAppsProject.zip">Click to download</a> the Studio project.</p>
<p><a href="https://developer.ibm.com/mobileplatform/wp-content/uploads/sites/32/2014/07/07_06_sample_app.png"><img src="{{ site.baseurl }}/assets/07_06_sample_app.png" alt="07_06_sample_app" width="786" height="381" class="aligncenter size-full wp-image-1037" /></a></p>
