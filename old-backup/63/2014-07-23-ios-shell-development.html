---
layout: doc_page
title: iOS shell development
date: 2014-07-23 06:29:16.000000000 +03:00
type: doc_page
published: true
status: publish
categories: []
tags: []
meta:
  _wpcom_is_markdown: '1'
  _edit_last: '6643'
  _wpas_done_all: '1'
  _syntaxhighlighter_encoded: '1'
author:
  login: iadar@il.ibm.com
  email: IADAR@il.ibm.com
  display_name: IdanAdar
  first_name: IDAN
  last_name: ADAR
---
<p>This tutorial complements <a title="Shell development concepts" href="http://developer.ibm.com/mobilefirstplatform/documentation/getting-started-6-3/advanced-topics/shell-development-concepts/">Shell Development Concepts</a>.</p>
<div id="samplesAndPersonas">
<div>
    Relevant to:</p>
<ul id="relevantForPersona">
<li class="hybrid"><a href="https://developer.ibm.com/mobilefirstplatform/documentation/getting-started-hybrid-development-6-3/">Hybrid</a></li>
</ul></div>
<ul>
<li class="download-sample">
          <a href="http://public.dhe.ibm.com/software/products/en/MobileFirstPlatform/docs/v630/ShellDevelopmentProject.zip">Download Studio project</a>
        </li>
</ul>
</div>
<h2>Overview</h2>
<p>In this tutorial, you learn how to add an iOS environment to your shell component, test application, and inner application.</p>
<h2>Adding an iOS environment to a shell component</h2>
<p>Start by adding an iPhone environment to your shell component by following the same procedure as for a standard IBM MobileFirst Platform Foundation application.<br />
<a href="http://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2014/07/10_02_new-environment.png"><br />
<img class="aligncenter wp-image-1198 size-full" src="{{ site.baseurl }}/assets/backup/10_02_new-environment.png" alt="10_02_new-environment" width="501" height="394" /></a></p>
<p><img class="alignright wp-image-1209 size-full" src="{{ site.baseurl }}/assets/backup/10_03_project-structure.png" alt="10_03_project-structure" width="381" height="505" /></p>
<p>The following folder structure is created:</p>
<ul>
<li><strong>css, images, fragments</strong> and <strong>js</strong> contain resources that override or extend resources from the Shell component <strong>common</strong> folder.</li>
<li>The <strong>native</strong> folder contains an application template to be used when you create an iOS project from an inner application.</li>
<li>The <strong>nativeEmptyApp</strong> folder contains an application that is built from the shell component and an empty inner application as described in the <a title="Shell development concepts" href="http://developer.ibm.com/mobilefirstplatform/documentation/getting-started/advanced-topics/shell-development-concepts/">Shell Development Concepts</a> module.</li>
</ul>
<p>The files in the <strong>native</strong> folder are templates that are used to create the inner application iOS project.<br />
Some of the folder and file names contain placeholder elements that are populated during the build.<br />
For example:</p>
<ul>
<li>The placeholder <strong>${xcodeProjectName}.xcodeproj.wluser</strong> is populated with a package name used in the application.</li>
<li>The <strong>${xcodeProjectName}-Info.plist.wltemplate.wluser</strong> is populated with the application name, thus creating the main application <em>plist</em> file.</li>
</ul>
<p>Files with the <strong>.wluser</strong> extension are template files that shell developers can modify.<br />
<br clear="all" /></p>
<h2>Adding custom Objective C code to a Shell component</h2>
<p>Because the <em>iphone\native</em> folder of a Shell component is not an iOS project, advanced features such as auto-complete are not provided when you work on it directly.<br />
The solution is to use the iPhone environment of the test application to create, modify, and debug the Objective C code.<br />
The generated iOS project is created under the test application <em>native\</em> folder.<br />
Use it to work with your Objective C code.</p>
<p>Open the generated iOS project in Xcode.<br />
Add an Objective C <strong>MyCustomAlert</strong> class in the <strong>Classes</strong> folder.<br />
Add a method signature to <strong>MyCustomAlert.h</strong>, and method implementation to <strong>MyCustomAlert.m</strong> files:</p>
<p>[code lang="obj-c"]<br />
#import &quot;MyCustomAlert.h&quot;</p>
<p>@implementation MyCustomAlert<br />
+(void)showUIAlert:(NSString *)text{<br />
  UIAlertView *alert = [[UIAlert alloc] initWithTitle:@&quot;Native Alert&quot;<br />
                                        message:text<br />
                                        delegate:nil<br />
                                        cancelButtonTitle:@&quot;Close&quot;<br />
                                        otherButtonTitles:nil];<br />
  [alert show];<br />
  [alert release];<br />
}<br />
@end<br />
[/code]</p>
<p>Import <strong>MyCustomAlert.h</strong> and call this method from the <strong>viewDidLoad</strong> method of the application <strong>ViewController</strong>:</p>
<p>[code lang="obj-c"]<br />
- (void)viewDidLoaad<br />
{<br />
  [super viewDidLoad];<br />
  [MyCustomAlert showUIAlert:@&quot;Hello from native iOS Shell&quot;];<br />
}<br />
[/code]</p>
<p>Run your application to see the implemented functions.<br />
<a href="http://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2014/07/10_03_objc-result.png"><img class="aligncenter size-full wp-image-1211" src="{{ site.baseurl }}/assets/backup/10_03_objc-result.png" alt="10_03_objc-result" width="370" height="719" /></a></p>
<p>Finally, copy your Objective C code from the iPhone project that you used to develop it back to the shell component.<br />
<a href="http://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2014/07/10_03_copy_files.png"><img class="aligncenter size-full wp-image-1212" src="{{ site.baseurl }}/assets/backup/10_03_copy_files.png" alt="10_03_copy_files" width="1316" height="686" /></a><br />
The custom Objective C classes added to the iPhone project can be copied, to keep the folder structure intact.<br />
Xcode stores its own project structure in a <strong>project.pbxproj</strong> file. Therefore, the content of this file must also be copied from the test application to the shell component.</p>
<p>The <strong>native</strong> folder of the test application is not being rebuilt from the shell component each time you build the iOS application.<br />
Doing so avoids overwriting the test application native code with the one in the shell component on each build, thus allowing shell developers to debug their code conveniently.<br />
If you want your native folder to be fully recreated from a shell component, erase it in the test application, and then build and deploy the application.</p>
<h2>Using the NativeEmptyApp Project</h2>
<p><strong>NativeEmptyApp</strong> is a native application project that uses the shell component, and that has an empty inner application.<br />
This project can be built as an APK or IPA by a shell developer, and sent to inner application developers to use for debugging their applications.<br />
After the NativeEmptyApp is installed on the device, an inner application developer can specify the URL of the MobileFirst Server from which to load the Inner application.<br />
Doing so helps inner application developers to test their code without the need to have native SDKs installed.<br />
For example: to develop and test an iPhone application without a Mac.<br />
To use the NativeEmptyApp, open it as an Xcode project.</p>
<p>When the application is built and deployed to an iOS device, go to Settings to change the URL from which this inner application content is loaded.<br />
<a href="http://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2014/07/10_03_ios_settings.png"><img class="aligncenter size-full wp-image-1213" src="{{ site.baseurl }}/assets/backup/10_03_ios_settings.png" alt="10_03_ios_settings" width="770" height="683" /></a></p>
<p><strong>Important</strong>:<br />
NativeEmptyApp cannot load a remote inner application that has the device provisioning enabled.<br />
NativeEmptyApp can be used only in the development environment.</p>
<h2>Sample application</h2>
<p><a href="http://public.dhe.ibm.com/software/products/en/MobileFirstPlatform/docs/v630/ShellDevelopmentProject.zip">Click to download</a> the Studio project.</p>
