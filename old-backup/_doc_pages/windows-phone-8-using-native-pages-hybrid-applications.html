---
layout: doc_page
title: Windows Phone 8 - Using native pages in hybrid applications
date: 
type: doc_page
published: false
status: trash
categories: []
tags: []
meta:
  _wpcom_is_markdown: '1'
  _edit_last: '12536'
  _wpas_done_all: '1'
  _syntaxhighlighter_encoded: '1'
  _jetpack_related_posts_cache: a:1:{s:32:"984a002a47179f5ee40a1e2a09fbfe45";a:2:{s:7:"expires";i:1442519422;s:7:"payload";a:3:{i:0;a:1:{s:2:"id";i:11245;}i:1;a:1:{s:2:"id";i:5718;}i:2;a:1:{s:2:"id";i:310;}}}}
  oasis_is_in_workflow: '0'
  _wp_trash_meta_status: publish
  _wp_trash_meta_time: '1444817987'
  _wp_trash_meta_comments_status: a:1:{i:3735;s:1:"1";}
author:
  login: iadar@il.ibm.com
  email: IADAR@il.ibm.com
  display_name: IdanAdar
  first_name: IDAN
  last_name: ADAR
---
<p class="breadcrumbs">
 &lt; <a href="https://developer.ibm.com/mobilefirstplatform/documentation/getting-started-6-3/adding-native-functionality/">Adding native functionality to hybrid applications</a></p>
<div id="samplesAndPersonas">
<div>
    Relevant to:</p>
<ul id="relevantForPersona">
<li class="hybrid"><a href="https://developer.ibm.com/mobilefirstplatform/documentation/getting-started-hybrid-development-6-3/">Hybrid</a></li>
</ul>
</div>
<ul>
<li class="download-sample">
          <a href="http://public.dhe.ibm.com/software/products/en/MobileFirstPlatform/docs/v630/UsingNativePagesInHybridAppsProject.zip">Download Studio project</a>
        </li>
</ul>
</div>
<h2>Overview</h2>
<p>In this tutorial, integration of native and web "pages" in a Windows Phone 8 application will be explained by using the <span class="inline-code">WL.NativePage.show()</span> API to open a native page from JavaScript.</p>
<p>With this method, data can be sent from JavaScript to the opened native page, and specify a callback to call after the native page closes.</p>
<h2>Connecting to the plugin from the JavaScript code</h2>
<p>As a first step, <span class="inline-code">WL.NativePage.show()</span> needs to be implemented in order to open the native page:</p>
<p>[code lang="js"]function openNativePage(){<br />
    var params = {<br />
        nameParam : $('#nameInput').val()<br />
    };<br />
    WL.NativePage.show(nativePageClassName, backFromNativePage, params);<br />
}[/code]</p>
<ul>
<li><span class="inline-code">nativePageClassName</span>: The name of a native Windows Phone 8 UIViewController instance to start.</li>
<li><span class="inline-code">backFromNativePage</span>: A callback function to call when the native page closes.</li>
<li><span class="inline-code">params</span>: optional custom parameters object to pass to the native code.</li>
</ul>
<p>
To handle the callback function:</p>
<p>[code lang="js"]function backFromNativePage(data){<br />
	alert(&amp;quot;Received phone number is: &amp;quot; + data.phoneNumber);<br />
}[/code]</p>
<ul>
<li><span class="inline-code">backFromNativePage(data)</span>: After the native closes, it can pass data back to the web part of an application.</li>
</ul>
<h2>Creating a native page</h2>
<p>For WP8, the native page must be implemented as a Windows Phone User Control, or extend an existing one.</p>
<h4>Step 1</h4>
<p>In the new User Control, add <span class="inline-code">using Cordova.Extension.Commands;</span> to the .cs file, and use the same package and class name as in the <span class="inline-code">WL.NativePage</span> API call in the JavaScript:</p>
<p>[code lang="csharp"]using Cordova.Extension.Commands;<br />
using Newtonsoft.Json;</p>
<p>namespace NativePagesInHybridApp<br />
{<br />
    public partial class HelloNative : UserControl<br />
    {[/code]</p>
<h4>Step 2</h4>
<p>To retrieve custom data parameters that are passed from the web view, the <span class="inline-code">WLNativePage.Data</span> method should be used.</p>
<p>In the below example, the data is sent as a JSON string. For this purpose, the external JSON.NET library is used to convert the incoming JSON string to a native dictionary. For more information, see <a href="http://json.codeplex.com/">http://json.codeplex.com/</a></p>
<p>[code lang="csharp" firstline="8"]InitializeComponent();<br />
            if (WLNativePage.Data != null)<br />
            {<br />
                Dictionary&amp;lt;string, string&amp;gt; data = JsonConvert.DeserializeObject&amp;lt;Dictionary&amp;lt;string, string&amp;gt;&amp;gt;(WLNativePage.Data);<br />
                NameReceivedTextBlock.Text = &amp;quot;Hello &amp;quot; + data[&amp;quot;nameParam&amp;quot;];<br />
                tb_returnValue.Text = &amp;quot;1234567890&amp;quot;;<br />
            }[/code]</p>
<h2>Returning control to the web view</h2>
<p>When the native page needs to switch back to the web view, it calls the <span class="inline-code">WLNativePage.backFromNative</span> method.<br />
Data can be passed back to the web view as parameters to the call:</p>
<h3>C#:</h3>
<p>[code lang="csharp"]    void DoneButton_Click(object sender, RoutedEventArgs e)<br />
        {<br />
            Dictionary&amp;lt;string, string&amp;gt; data = new Dictionary&amp;lt;string, string&amp;gt;<br />
            {<br />
                { &amp;quot;phoneNumber&amp;quot;, tb_returnValue.Text }<br />
            };</p>
<p>            string json = JsonConvert.SerializeObject(data, Formatting.Indented);<br />
            WLNativePage.backFromNative(this, json);<br />
        }<br />
    }<br />
}[/code]</p>
<h3>JavaScript:</h3>
<p>[code lang="js"]function backFromNativePage(data){<br />
    alert(&amp;quot;Received phone number is: &amp;quot; + data.phoneNumber);<br />
}[/code]</p>
<h2>Sample application</h2>
<p><a href="http://public.dhe.ibm.com/software/products/en/MobileFirstPlatform/docs/v630/UsingNativePagesInHybridAppsProject.zip">Click to download</a> the Studio project.</p>
<p><a href="https://developer.ibm.com/mobileplatform/wp-content/uploads/sites/32/2014/07/07_06_sample_app.png"><img src="{{ site.baseurl }}/assets/07_06_sample_app.png" alt="07_06_sample_app" width="786" height="381" class="aligncenter size-full wp-image-1037" /></a></p>
