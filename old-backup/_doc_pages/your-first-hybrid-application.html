---
layout: doc_page
title: Your first hybrid application
date: 
type: doc_page
published: false
status: trash
categories: []
tags:
- 7-2
meta:
  _wpcom_is_markdown: '1'
  _edit_last: '6643'
  _syntaxhighlighter_encoded: '1'
  _wpas_done_all: '1'
  oasis_is_in_workflow: '0'
  _wp_trash_meta_status: publish
  _wp_trash_meta_time: '1444817916'
author:
  login: nathanh@il.ibm.com
  email: NATHANH@il.ibm.com
  display_name: Nathan Hazout
  first_name: NATHAN
  last_name: HAZOUT
---
<p class="breadcrumbs">
 &lt; <a href="../">Hello World</a></p>
<div id="samplesAndPersonas">
<div>
        Relevant to:</p>
<ul id="relevantForPersona">
<li class="hybrid">Hybrid</li>
</ul></div>
</div>
<h2>Overview</h2>
<p>This tutorial describes all the steps from creating a new MobileFirst project and Hybrid application to building it. The tutorial explains the structure of the new Hybrid application and all its components, as well as the concept of "Single-Page Application" (SPA) that MobileFirst Hybrid applications are based on.</p>
<h3>Agenda:</h3>
<ul>
<li><a href="#creatingHybridMobileFirstApplication">Creating a hybrid application</a></li>
<li><a href="#addingEnvironments">Adding environments</a></li>
<li><a href="#structureOfNewApplication">Structure of a new application</a></li>
<li><a href="#singleDOM">Single DOM model</a></li>
<li><a href="#buildingAnApplication">Building the application</a></li>
<li><a href="#previewingAnApplication">Previewing the application</a></li>
<li><a href="#next">Tutorials to follow next</a></li>
</ul>
<h2 id="creatingHybridMobileFirstApplication">Creating a hybrid MobileFirst application</h2>
<h3>Using the command-line interface (CLI)</h3>
<ol>
<li>If you have installed the <a href="../../advanced-client-side-development/using-cli-create-build-manage-project-artifacts/">CLI</a>, in the terminal, create a project named <code>HelloWorldProject</code>.<br />
[code]<br />
$ mfp create HelloWorldProject<br />
A MobileFirst Project was successfully created at /Users/MyUser/Dev/HelloWorldProject<br />
[/code]</li>
<li>Go to the context of your newly created project.<br />
[code]<br />
$ cd HelloWorldProject/<br />
[/code]</li>
<li>Define a hybrid application named <code>HelloWorld</code>.<br />
[code]<br />
$ mfp add hybrid HelloWorld<br />
A new Hybrid App was added at /Users/MyUser/Dev/HelloWorldProject/apps/HelloWorld<br />
[/code]</li>
</ol>
<h3>Using the Studio</h3>
<ol>
<li>In MobileFirst Studio, select <strong>File &gt; New &gt; MobileFirst Project</strong> to create a new MobileFirst Project from the top toolbar.<br />
 <a href="http://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2014/07/02_01_toolbar_menu.png"><img class="aligncenter wp-image-1399 size-full" src="{{ site.baseurl }}/assets/02_01_toolbar_menu.png" alt="02_01_toolbar_menu" width="603" height="344" /></a></li>
<li>Give your project a name, for example <em>HelloWorldProject</em>, and select the <strong>Hybrid Application</strong> template.<br />
 <a href="http://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2014/07/02_01_new_project.png"><img class="aligncenter wp-image-1401 size-full" src="{{ site.baseurl }}/assets/02_01_new_project.png" alt="02_01_new_project" width="603" height="602" /></a></li>
<li>Give the application a name, for example <em>HelloWorld</em>. You can add JavaScript frameworks to your project in this screen. Click <strong>Finish</strong> when done.<br />
 <a href="http://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2014/07/02_01_new_application.png"><img class="aligncenter wp-image-1398 size-full" src="{{ site.baseurl }}/assets/02_01_new_application.png" alt="02_01_new_application" width="603" height="603" /></a></li>
</ol>
<blockquote><p>To learn more about adding frameworks to applications, read the <a href="../../client-side-development-basics/working-ui-frameworks/">Client-side development basics > Working with UI frameworks</a> tutorial.
</p></blockquote>
<h2 id="addingEnvironments">Adding Environments</h2>
<p>A MobileFirst environment is a platform on which a Hybrid application can run on. These environments are separated into three groups: Mobile environments, Web environments and Desktop environments.</p>
<ul>
<li>Mobile environments: iOS, Android, Windows Phone 8 and Windows 8 Universal.</li>
<li>Web environments: Mobile Web, Desktop Browser</li>
<li>Desktop environments: Air</li>
</ul>
<p>To add an environment:</p>
<ol>
<li>Click the MobileFirst icon in the menu bar and select <strong>MobileFirst Environment</strong>.<br />
<a href="http://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2014/09/08_05_adding_an_environment.png"><img class="aligncenter wp-image-1422 size-full" src="{{ site.baseurl }}/assets/08_05_adding_an_environment.png" alt="08_05_adding_an_environment" width="822" height="440" /></a></p>
</li>
<li>Select the application to which you would like to add an environment and select one or more environments.
</li>
<li>Click <strong>Finish</strong>. A new folder with the environment name is added to the project structure.
<p><a href="https://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2015/04/08_05_selecting_an_environment.png"><img src="{{ site.baseurl }}/assets/08_05_selecting_an_environment-1012x1024.png" alt="08_05_selecting_an_environment" width="980" height="991" class="aligncenter size-large wp-image-11673" /></a></p>
</li>
</ol>
<h2 id="structureOfNewApplication">Structure of the new application</h2>
<p><a href="https://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2015/04/02_01_project_structure.png"><img src="{{ site.baseurl }}/assets/02_01_project_structure.png" alt="02_01_project_structure" width="720" height="621" class="aligncenter size-full wp-image-11290" /></a></p>
<h3>Environment files</h3>
<h4>Common</h4>
<p>The default environment is called <strong>common</strong>. The <strong>common</strong> environment contains all the resources that are shared between environments:</p>
<ul>
<li><strong>index.html</strong>: the main HTML file</li>
<li><strong>css</strong>
<ul>
<li>main.css: the main application CSS file</li>
</ul>
</li>
<li><strong>images</strong>: default MobileFirst images for the common environment</li>
<li><strong>js</strong>
<ul>
<li>initOptions.js: Used for defining the initialization options of the application. See the documentation of the <code>WL.Client.init</code> method in the API reference part of the user documentation</li>
<li>main.js: the main JavaScript file for the application</li>
<li>messages.js: Contains A JSON object that holds all app messages. Can be used as the source for translation</li>
</ul>
</li>
<li><strong>legal</strong>: A folder that holds all the legal docs</li>
<li><strong>application-descriptor.xml</strong>: Contains the application metadata</li>
<li><strong>build-settings.xml</strong>: Contains configuration options for minification and concatenation</li>
</ul>
<p><a href="http://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2014/09/08_05_environment_folder_structure.png"><img class="alignright size-medium wp-image-1421" src="{{ site.baseurl }}/assets/08_05_environment_folder_structure-196x300.png" alt="08_05_environment_folder_structure" width="196" height="300" /></a></p>
<h4>Environments</h4>
<p><em>The screen shot to the right depicts the iPhone environment, but the explanation below applies to any mobile environment (iPhone, iPad, Android, Windows Phone 8, Windows 8).</em></p>
<p>The mobile environment includes the following folders:</p>
<ul>
<li><strong>CSS</strong> – The properties that are specified in this folder override the CSS files from the common folder.
</li>
<li><strong>Images</strong> – You can add environment-specific images in this folder. If images with the same file names exist in the common folder, they are overwritten in the application.
</li>
<li><strong>JavaScript</strong> – Contains JavaScript that can extend, and override if necessary, JavaScript from the common folder.
</li>
<li>The <strong>native</strong> folder contains automatically generated native project code.<br />
Files in the <code>nativewww</code> folder are regenerated each time the application is built. Any changes that are made to these files are lost.</p>
</li>
<li>The <strong>nativeResources</strong> folder contains resources that are used by the native code.
</li>
</ul>
<p><strong>Note about Android</strong><br />
After you add the Android environment, an Android project is generated and added to the workspace.<br />
This project folder does not contain a copy of the application code. Rather, it is mapped to the native folder within the android folder of the application.</p>
<p>[collapse title="Android project structure"]<br />
<a href="http://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2014/07/02_07_android_folder_structure.png"><img class="aligncenter wp-image-1431 size-full" src="{{ site.baseurl }}/assets/02_07_android_folder_structure.png" alt="02_07_android_folder_structure" width="310" height="485" /></a><br />
[/collapse]</p>
<p><br clear="all" /></p>
<h3>Server files</h3>
<ul>
<li><strong>externalServerLibraries</strong>: Contains the libraries to be placed in external service servers and used for access token validation (by the service).</li>
<li><strong>server</strong>: Contains files that are used for server-side customization of a project:
<ul>
<li><strong>conf</strong>: contains
<ul>
<li><strong>authenticationConfig.xml</strong>: Defines authentication realm and security tests</li>
<li><strong>default.keystore</strong>: A default SSL certificate that is provided by the project</li>
<li><strong>login.html</strong>: Presents a login form for web environments and the MobileFirst Operations Console</li>
</ul>
</li>
<li><strong>SMSConfig.xml</strong>: Defines SMS Gateways</li>
<li><strong>worklight.properties</strong>: Defines the properties that are used by MobileFirst Server</li>
</ul>
</li>
<li><strong>java</strong>: Used to hold Java classes that will be compiled and deployed to a MobileFirst Server instance after the application is built. You can place your custom Java code here.</li>
<li><strong>lib</strong>: Used for JAR files that are deployed to the server</li>
<li><strong>services</strong>: Contains any back-end services that were discovered</li>
</ul>
<h3>The bin folder</h3>
<p>The <code>bin</code> folder contains project artifacts that are deployed to MobileFirst Server.<br />
MobileFirst Studio deploys those artifacts to the embedded MobileFirst Development Server automatically as a part of the build process.</p>
<ul>
<li><code>.wlapp</code> files are application bundles.</li>
<li><code>.wladapter</code> files are adapters.</li>
<li><code>.jar</code> and <code>.war</code> files are server customization files that contain  <code>worklight.properties</code>, <code>authenticationConfig.xml</code>, and custom Java code.</li>
</ul>
<h3>The application-descriptor.xml file</h3>
<p>The application descriptor is an XML file that stores the metadata for an application.<br />
You can edit this file in the Design or Source editors.</p>
<p><a href="http://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2014/07/02_01_application_descriptor.png"><img class="aligncenter wp-image-1394 size-large" src="{{ site.baseurl }}/assets/02_01_application_descriptor-1024x568.png" alt="02_01_application_descriptor" width="603" height="543" /></a></p>
<p>The file is based on the W3C Widget Packaging and Configuration standard and contains application properties that are used at build time.<br />
You can specify the application description, details about the author, the thumbnail image to be displayed in the MobileFirst Operations Console, and more.</p>
<p>[code lang="xml"]<br />
    &amp;lt;!-- Attribute &amp;quot;id&amp;quot; must be identical to application folder name --&amp;gt;<br />
    &amp;lt;application id=&amp;quot;HelloWorld&amp;quot; platformVersion=&amp;quot;7.1.0.00.20150701-1029&amp;quot;<br />
    xmlns=&amp;quot;http://www.worklight.com/application-descriptor&amp;quot;<br />
    xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;&amp;gt;</p>
<p>        &amp;lt;displayName&amp;gt;HelloWorld&amp;lt;/displayName&amp;gt;<br />
        &amp;lt;description&amp;gt;HelloWorld&amp;lt;/description&amp;gt;<br />
        &amp;lt;author&amp;gt;<br />
            &amp;lt;name&amp;gt;application's author&amp;lt;/name&amp;gt;<br />
            &amp;lt;email&amp;gt;application author's e-mail&amp;lt;/email&amp;gt;<br />
            &amp;lt;copyright&amp;gt;Copyright My Company&amp;lt;/copyright&amp;gt;<br />
            &amp;lt;homepage&amp;gt;http://mycompany.com&amp;lt;/homepage&amp;gt;<br />
        &amp;lt;/author&amp;gt;<br />
        &amp;lt;mainFile&amp;gt;index.html&amp;lt;/mainFile&amp;gt;<br />
        &amp;lt;thumbnailImage&amp;gt;common/images/thumbnail.png&amp;lt;/thumbnailImage&amp;gt;<br />
        &amp;lt;features&amp;gt;<br />
        &amp;lt;/features&amp;gt;<br />
        &amp;lt;targetCategory&amp;gt;UNDEFINED&amp;lt;/targetCategory&amp;gt;<br />
    &amp;lt;/application&amp;gt;<br />
    [/code]</p>
<p>Environment-specific information is inserted automatically as new environments are added to the MobileFirst project:</p>
<p>[code lang="xml"]<br />
    &amp;lt;iphone bundleId=&amp;quot;com.HelloWorld&amp;quot; version=&amp;quot;1.0&amp;quot;&amp;gt;<br />
        &amp;lt;worklightSettings include=&amp;quot;false&amp;quot;/&amp;gt;<br />
        &amp;lt;security&amp;gt;<br />
            &amp;lt;encryptWebResources enabled=&amp;quot;false&amp;quot;/&amp;gt;<br />
            &amp;lt;testWebResourcesChecksum enabled=&amp;quot;false&amp;quot; ignoreFileExtensions=&amp;quot;png, jpg, jpeg, gif, mp4, mp3&amp;quot;/&amp;gt;<br />
        &amp;lt;/security&amp;gt;<br />
    &amp;lt;/iphone&amp;gt;<br />
    &amp;lt;android version=&amp;quot;1.0&amp;quot;&amp;gt;<br />
        &amp;lt;worklightSettings include=&amp;quot;false&amp;quot;/&amp;gt;<br />
        &amp;lt;security&amp;gt;<br />
            &amp;lt;encryptWebResources enabled=&amp;quot;false&amp;quot;/&amp;gt;<br />
            &amp;lt;testWebResourcesChecksum enabled=&amp;quot;false&amp;quot; ignoreFileExtensions=&amp;quot;png, jpg, jpeg, gif, mp4, mp3&amp;quot;/&amp;gt;<br />
            &amp;lt;publicSigningKey/&amp;gt;<br />
            &amp;lt;packageName/&amp;gt;<br />
        &amp;lt;/security&amp;gt;<br />
    &amp;lt;/android&amp;gt;<br />
    [/code]</p>
<blockquote><p>Learn more about the <code>application-descriptor.xml</code> file in the user documentation.</p></blockquote>
<h3>The build-settings.xml file</h3>
<p>The build settings file is an XML file that contains configuration options for minification and concatenation of the Desktop Browser and Mobile Web environment web resources.<br />
You can edit this file in the Design or Source editors.</p>
<p>By using minification on specific web resources, you can reduce the size of JavaScript and CSS files in the application.<br />
In addition, you can use concatenation of the web resources to improve the start time of the application.</p>
<p><a href="http://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2014/07/02_01_build_settings_Editor.png"><img class="aligncenter wp-image-1404 size-large" src="{{ site.baseurl }}/assets/02_01_build_settings_Editor-1024x430.png" alt="02_01_build_settings_Editor" width="603" height="411" /></a></p>
<h3>The index.html file</h3>
<p>At application run time, the main HTML document cannot be replaced by another HTML document.<br />
The default application HTML template complies with HTML5 standard markup, but any other DOCTYPE can be specified.</p>
<p>The MobileFirst client-side framework uses the jQuery library for internal functions. By default, the <code>$</code> char is assigned to the internal jQuery in the main HTML file (see below). If a different jQuery version is required or if jQuery is not required in the application, this line (#12) can be removed.</p>
<p>The MobileFirst client framework initialization is bound to the <code>onload</code> event specified in the <code>initOptions.js</code> file. For more information about initialization options, see the user documentation.</p>
<p>[code lang="html"]<br />
    &amp;lt;!DOCTYPE HTML&amp;gt;<br />
    &amp;lt;html&amp;gt;<br />
            &amp;lt;head&amp;gt;<br />
                &amp;lt;meta charset=&amp;quot;UTF-8&amp;quot;&amp;gt;<br />
                &amp;lt;title&amp;gt;HelloWorld&amp;lt;/title&amp;gt;<br />
                &amp;lt;meta name=&amp;quot;viewport&amp;quot; content=&amp;quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0&amp;quot;&amp;gt;<br />
                &amp;lt;!--<br />
                    &amp;lt;link rel=&amp;quot;shortcut icon&amp;quot; href=&amp;quot;images/favicon.png&amp;quot;&amp;gt;<br />
                    &amp;lt;link rel=&amp;quot;apple-touch-icon&amp;quot; href=&amp;quot;images/apple-touch-icon.png&amp;quot;&amp;gt;<br />
                --&amp;gt;<br />
                &amp;lt;link rel=&amp;quot;stylesheet&amp;quot; href=&amp;quot;css/main.css&amp;quot;&amp;gt;<br />
                &amp;lt;script&amp;gt;window.$ = window.jQuery = WLJQ;&amp;lt;/script&amp;gt;<br />
            &amp;lt;/head&amp;gt;<br />
            &amp;lt;body style=&amp;quot;display: none;&amp;quot;&amp;gt;<br />
                &amp;lt;!--application UI goes here--&amp;gt;<br />
                Hello World<br />
                &amp;lt;script src=&amp;quot;js/initOptions.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;<br />
                &amp;lt;script src=&amp;quot;js/main.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;<br />
                &amp;lt;script src=&amp;quot;js/messages.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;<br />
            &amp;lt;/body&amp;gt;<br />
    &amp;lt;/html&amp;gt;<br />
    [/code]</p>
<p><br clear="all" /></p>
<h3>The initOptions.js file</h3>
<p>The initialization options file contains MobileFirst framework initialization settings.<br />
It is also responsible for initializing the MobileFirst framework after the <code>&lt;body&gt;</code> element finishes loading.</p>
<p>By default, the MobileFirst application starts in offline mode (the application does not attempt to connect to MobileFirst Server).<br />
To connect to MobileFirst Server, use <code>WL.Client.connect()</code>.</p>
<p>Some default initialization options are documented in the file itself. The entire set of options is documented in the Reference topic for the API method <code>WL.Client.init</code>, in the user documentation.</p>
<h3>The main.js file</h3>
<p>When you create an application, a <code>main.js</code> file is created and holds its JavaScript portion.<br />
It contains a <code>wlCommonInit()</code> function which is invoked automatically after the MobileFirst framework initialization finishes. Application initialization code can be implemented herein.</p>
<p>This function is used in environment-specific JavaScript files to have a common initialization starting point. Additional details are provided in subsequent tutorials.</p>
<p>As discussed previously, the MobileFirst application starts in offline mode by default.<br />
To begin communicating with MobileFirst Server, follow the instructions provided in the default <code>wlCommonInit()</code> function:</p>
<p>[code lang="js"]<br />
function wlCommonInit(){<br />
    /*<br />
     * Use of WL.Client.connect() API before any connectivity to MobileFirst Server is required.<br />
     * Call this API only once, before any other WL.Client methods that communicate with MobileFirst Server.<br />
     * Remember to specify and implement the onSuccess and onFailure callback functions for WL.Client.connect(), e.g:<br />
     *<br />
     *    WL.Client.connect({<br />
     *    		onSuccess: onConnectSuccess,<br />
     *    		onFailure: onConnectFailure<br />
     *    });<br />
     *<br />
     */</p>
<p>    // Common initialization code goes here</p>
<p>}<br />
[/code]</p>
<h2 id="buildingAnApplication">Building an application</h2>
<p>To build an application, right-click the application name and select <strong>Run As > Run on MobileFirst Development Server</strong>.</p>
<p>While the application is being built and deployed, you can monitor the progress in the Eclipse Console view.<br />
After the build completes, the application is available for preview in the catalog tab of the MobileFirst Operations Console.</p>
<p><a href="http://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2014/07/02_01_run_on_development_server.png"><img class="aligncenter wp-image-1396 size-full" src="{{ site.baseurl }}/assets/02_01_run_on_development_server.png" alt="02_01_run_on_development_server" width="603" height="872" /></a></p>
<h3>MobileFirst Operations Console</h3>
<p>Learn about the MobileFirst Operations Console from the <a href="../mobilefirst-console/" title="Introduction to MobileFirst Platform Console">Introduction to MobileFirst Operations Console</a> tutorial.</p>
<h3 id="singleDOM">Single DOM model</h3>
<p>MobileFirst hybrid applications use a single DOM model.</p>
<p>The single DOM model means that navigation between various HTML files must not be implemented by using hyperlinks or by changing the <code>window.location</code> property.<br />
Instead, you can implement a multipage interface by loading an external HTML file content through Ajax requests and by injecting it into an existing DOM.</p>
<p>Such implementation is required because the main application HTML file loads the MobileFirst client-side JavaScript framework files. If the webview navigates away from one HTML file to another, the JavaScript context and loaded scripts are lost.</p>
<p>Most JavaScript UI frameworks available today (for example, jQuery Mobile, Dojo Mobile, Sencha Touch) provide an extensive range of APIs to achieve the required multipage navigation.</p>
<p>This module explains the principles of a single-page application.<br />
Principles of multipage applications that are built with a single DOM model are explained in other tutorials.</p>
<h2 id="previewingAnApplication">Previewing an Application</h2>
<ul>
<li>To preview the application's common resources from the CLI, go to the common folder:<br />
<code>$ cd apps/HelloWorld/common/</code> and use <code>$ mfp preview</code> to start the preview.
    </li>
<li>To preview the application's common resources from the Studio, right-click the <code>common</code> folder and choose <strong>Run As > Preview</strong>.
</li>
</ul>
<p>If you are presented with a login screen, use admin/admin as the username/password.</p>
<p>To learn more about previewing, see the <a href="../previewing-your-hybrid-application/">Previewing your Hybrid Application</a> tutorial.</p>
<p><a href="http://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2014/12/common-preview.png"><img src="{{ site.baseurl }}/assets/common-preview.png" alt="common-preview" width="653" height="717" class="aligncenter size-full wp-image-6349" /></a></p>
<h2 id="next">Tutorials to follow next</h2>
<p>Now that you created your first hybrid application, you can follow the tutorials in the <a href="../../hybrid-development/">Hybrid client-side development</a> section to learn more about authentication and security, server-side development, advanced client-side development, notifications, and more.</p>
