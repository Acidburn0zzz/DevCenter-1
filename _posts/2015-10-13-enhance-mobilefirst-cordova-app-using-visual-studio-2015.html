---

title: Enhance MobileFirst Cordova app using Visual Studio 2015
date: 2015-10-13 07:56:41.000000000 +03:00
type: post
published: true
status: publish
categories:
- Mobile
tags:
- android
- Cordova
- ios
- mobilefirst
- MobileFirst_Platform
- Visual Studio
meta:
  _wpcom_is_markdown: '1'
  _edit_last: '10914'
  _rawhtml_settings: '0,0,0,0'
  oasis_is_in_workflow: '1'
  _syntaxhighlighter_encoded: '1'
  _wpas_done_all: '1'
author:
  login: vidyasagarmsc@gmail.com
  email: vidyasagar.msc@in.ibm.com
  display_name: Vidyasagar MSC
  first_name: Sarath Chandra Vidya Saga
  last_name: Machupalli
---
<p>Exploring and Coding are part of every developer's life. While exploring you may come across many technologies, tools, libraries etc. Each technology has its own recommended IDE (Integrated Development Environment) for developing applications. Like</p>
<ul>
<li>Eclipse for Java Development.</li>
<li>Visual Studio for developing applications using Microsoft stack.</li>
<li>XCode for iOS and Mac application development.</li>
<li>Sublime Text, Brackets , TextMate(Mac) for web development etc.</li>
</ul>
<p>Coding using a new IDE is always a challenge as you have to learn about the new IDE and also you may already be familiar with an IDE and its shortcut keys. You will be more productive with an IDE which you love to code on.</p>
<h3><strong>Creating a MFP Cordova application</strong></h3>
<p>After a blog post on <a href="http://vidyasagarmsc.com/2015/08/importing-visual-studio-cordova-project-with-ionic-and-angularjs-into-ibm-mobilefirst/">importing Visual Studio Cordova project into IBM MobileFirst </a>, There was an interesting use case requesting for vice-versa. So in this blog post you will be importing an IBM MobileFirst Platform Cordova application into Visual Studio(VS)2015.</p>
<p>With IBM MobileFirst platform<strong> v7.1</strong>, using MobileFirst Command Line Interface(CLI) you can create an Apache Cordova application with IBM MobileFirst features packaged as a plugin called <code>cordova-plugin-mfp</code>. As Cordova application creation is out-of-scope of this blog post, here's a <a href="https://developer.ibm.com/mobilefirstplatform/documentation/getting-started-7-1/foundation/hello-world/integrating-mfpf-sdk-in-cordova-applications/">link</a> to an article which gives you a detailed intro including CLI commands.</p>
<p>Using the CLI commands mentioned under "Building the sample step by step" section of above mentioned link, create a new Cordova project namely <strong>MFPCordovaApp.</strong>Follow the other instructions to add platforms and plugins (Vibration and Camera).Once successfully created Your Cordova folder structure should look like as shown in the figure below</p>
<p>[caption id="" align="center" width="1126"]<a href="http://vidyasagarmsc.com/wp-content/uploads/2015/10/Screen-Shot-2015-10-02-at-4.58.58-pm.png"><img class="wp-image-109 size-full" src="{{ site.baseurl }}/assets/backup/Screen-Shot-2015-10-02-at-4.58.58-pm.png" alt="Screen Shot 2015-10-02 at 4.58.58 pm" width="1126" height="848" align="middle" /></a> MFP Cordova project Folder Structure[/caption]</p>
<p>Here's the CLI Commands captured on a Mac Terminal for your reference,<br />
[code lang="shell"]<br />
Vidyasagars-MacBook-Pro:~ VMac$ mfp cordova create</p>
<p>[?] Enter name of app: MFPCordovaApp</p>
<p>[?] Enter the package ID: com.ibm.MFPCordovaApp</p>
<p>[?] Enter the app version: 1.0.0</p>
<p>[?] Select platforms to be supported by your app: android, ios</p>
<p>[?] The following plugins will be automatically added to your app:</p>
<p>cordova-plugin-mfp</p>
<p>org.apache.cordova.device</p>
<p>org.apache.cordova.dialogs</p>
<p>org.apache.cordova.geolocation</p>
<p>org.apache.cordova.globalization</p>
<p>org.apache.cordova.inappbrowser</p>
<p>org.apache.cordova.network-information</p>
<p>Please press enter to continue...</p>
<p>[?] Select additional plugins you would like to add: org.apache.cordova.camera 0.3.4 &amp;quot;Camera&amp;quot;, org.apache.cordova.vibration 0.3.12 &amp;quot;Vibration&amp;quot;</p>
<p>[?] Enter a path to an app template to be added: cordova-hello-world-mfp</p>
<p>Embedded Cordova Command: cordova create &amp;quot;MFPCordovaApp&amp;quot; &amp;quot;com.ibm.MFPCordovaApp&amp;quot; &amp;quot;MFPCordovaApp&amp;quot; --copy-from=&amp;quot;/Applications/IBM/MobileFirst-CLI/mobilefirst-cli/node_modules/cordovacmd/cordova/templates/cordova-hello-world-mfp&amp;quot;</p>
<p>Adding android project...</p>
<p>Creating Cordova project for the Android platform:</p>
<p>Path: platforms/android</p>
<p>Package: com.ibm.MFPCordovaApp</p>
<p>Name: MFPCordovaApp</p>
<p>Android target: android-19</p>
<p>Copying template files...</p>
<p>Project successfully created.</p>
<p>Adding ios project...</p>
<p>Adding &amp;quot;cordova-plugin-mfp&amp;quot;</p>
<p>Installing &amp;quot;cordova-plugin-mfp&amp;quot; for android</p>
<p>Installing &amp;quot;org.apache.cordova.device&amp;quot; for android</p>
<p>Installing &amp;quot;org.apache.cordova.dialogs&amp;quot; for android</p>
<p>Installing &amp;quot;org.apache.cordova.geolocation&amp;quot; for android</p>
<p>Installing &amp;quot;org.apache.cordova.globalization&amp;quot; for android</p>
<p>Installing &amp;quot;org.apache.cordova.inappbrowser&amp;quot; for android</p>
<p>Installing &amp;quot;org.apache.cordova.network-information&amp;quot; for android</p>
<p>Plugin install completed</p>
<p>Installing &amp;quot;cordova-plugin-mfp&amp;quot; for ios</p>
<p>Please manually merge MainActivity.original with CordovaApp.java in /platforms/android/src/[package_path]</p>
<p>Installing &amp;quot;org.apache.cordova.device&amp;quot; for ios</p>
<p>Installing &amp;quot;org.apache.cordova.dialogs&amp;quot; for ios</p>
<p>Installing &amp;quot;org.apache.cordova.geolocation&amp;quot; for ios</p>
<p>Installing &amp;quot;org.apache.cordova.globalization&amp;quot; for ios</p>
<p>Installing &amp;quot;org.apache.cordova.inappbrowser&amp;quot; for ios</p>
<p>Installing &amp;quot;org.apache.cordova.network-information&amp;quot; for ios</p>
<p>Plugin install completed</p>
<p>If you made changes to your main.m file, please manually merge main.m.bak with MFP's main.m</p>
<p>Plugin &amp;quot;cordova-plugin-mfp&amp;quot; added successfully.</p>
<p>Adding &amp;quot;org.apache.cordova.camera&amp;quot;</p>
<p>Installing &amp;quot;org.apache.cordova.camera&amp;quot; for android</p>
<p>Installing &amp;quot;org.apache.cordova.camera&amp;quot; for ios</p>
<p>Plugin &amp;quot;org.apache.cordova.camera&amp;quot; added successfully.</p>
<p>Adding &amp;quot;org.apache.cordova.vibration&amp;quot;</p>
<p>Installing &amp;quot;org.apache.cordova.vibration&amp;quot; for android</p>
<p>Installing &amp;quot;org.apache.cordova.vibration&amp;quot; for ios</p>
<p>Plugin &amp;quot;org.apache.cordova.vibration&amp;quot; added successfully.</p>
<p>Preparing for push...</p>
<p>MFP App settings not found, configuring..</p>
<p>Embedded Cordova Command: cordova prepare android</p>
<p>Embedded Cordova Command: cordova prepare ios</p>
<p>/Users/VMac/MFPCordovaApp/mobilefirst/com_ibm_MFPCordovaApp-android-1.0.0.wlapp has been built.</p>
<p>/Users/VMac/MFPCordovaApp/mobilefirst/com_ibm_MFPCordovaApp-iphone-1.0.0.wlapp has been built.</p>
<p>Push Completed Successfully.</p>
<p>MFP Cordova project created successfully.<br />
[/code]</p>
<p>Now, when you run your MFPCordovaApp on Mobile Browser Simulator (MBS) using the CLI command<br />
[code lang="shell"]mfp cordova preview[/code]<br />
The app on iOS and Android after clicking on CAMERA button will call Cordova camera plugin and the output should look like as shown in the figure below</p>
<p>[caption id="" align="aligncenter" width="1642"]<a href="http://vidyasagarmsc.com/wp-content/uploads/2015/10/Screen-Shot-2015-10-02-at-5.30.24-pm.png"><img class="size-full wp-image-112" src="{{ site.baseurl }}/assets/backup/Screen-Shot-2015-10-02-at-5.30.24-pm.png" alt="MFP Cordova app running on MBS" width="1642" height="1274" /></a> MFP Cordova app running on MBS[/caption]</p>
<h3><strong>Creating a Visual Studio Cordova Project </strong></h3>
<p>Follow the first three steps mentioned in this <a href="http://vidyasagarmsc.com/2015/08/importing-visual-studio-cordova-project-with-ionic-and-angularjs-into-ibm-mobilefirst/">link</a>.</p>
<p><em><strong>Note: </strong></em>Don't add any external libraries or frameworks namely Ionic or AngularJS as it is out-of-scope of this blog post.</p>
<p>Once successfully created, Navigate to your Visual Studio Cordova project folder and You should see the folder structure as shown in the figure below</p>
<p>[caption id="attachment_117" align="aligncenter" width="611"]<a href="http://vidyasagarmsc.com/wp-content/uploads/2015/10/MFPCordova1.png"><img class="size-full wp-image-117" src="{{ site.baseurl }}/assets/backup/MFPCordova1.png" alt="Visual Studio Cordova project Folder structure" width="611" height="101" /></a> Visual Studio Cordova project Folder structure[/caption]</p>
<p>&nbsp;</p>
<p>[caption id="attachment_118" align="aligncenter" width="609"]<a href="http://vidyasagarmsc.com/wp-content/uploads/2015/10/MFPCordova2.png"><img class="wp-image-118 size-full" src="{{ site.baseurl }}/assets/backup/MFPCordova2.png" alt="MFPCordova2" width="609" height="338" /></a> MFPCordovaApp folder structure[/caption]</p>
<h3><strong>Converting MFP Cordova project to Visual Studio Cordova project</strong></h3>
<p>As of today, there is no defined way to achieve this. So the below mentioned steps are just a workaround to open your MFP project in Visual Studio for further development.If you have observed , Both MFP cordova project and VS cordova project are given the same name (MFPCordovaApp). There's a strong reason behind this. Visual Studio understands solution (.SLN) files and project(.CSproj/.JSproj) files. Even a slight change in the name of your solution file may cause issues in loading the project in Visual studio. You will understand more on this once you follow the steps mentioned below.</p>
<ol>
<li>Open MFPCordova project folder and create a new folder namely "MFPCordovaApp".</li>
<li>Move all the other contents of MFPCordova project folder to the newly created MFPCordovaApp folder. (When you open MFPCordova project folder now, you should see only one folder i.e., MFPCordovaApp).</li>
<li>Now, move <strong>MFPCordovaApp.sln</strong> file from VSCordova project folder to MFPCordova project folder. Your MFPCordova project folder should look like as shown in figure below.
<p>[caption id="attachment_117" align="aligncenter" width="611"]<a href="http://vidyasagarmsc.com/wp-content/uploads/2015/10/MFPCordova1.png"><img class="wp-image-117 size-full" src="{{ site.baseurl }}/assets/backup/MFPCordova1.png" alt="" width="611" height="101" /></a> MFPCordova Project Folder structure[/caption]</li>
<li>Move MFPCordovaApp.jsproj, taco.json files and merges folder of VSCordova project to MFPCordovaApp folder of MFPCordova project.</li>
<li>Open <strong>MFPCordovaApp.sln</strong> of MFPCordova project in Visual studio 2015 and Click on "Show All Files" button highlighted in the figure below.
<p>[caption id="attachment_119" align="aligncenter" width="1366"]<a href="http://vidyasagarmsc.com/wp-content/uploads/2015/10/MFPCordova4.png"><img align="center" class="wp-image-119 size-full" src="{{ site.baseurl }}/assets/backup/MFPCordova4.png" alt="MFPCordova4" width="1366" height="736" /></a> MFPCordova project in Visual Studio 2015[/caption]</li>
<li>Select greyed-out folders namely <em>bin,bld and platforms</em> and include them into the project by right-clicking individual folder and selecting "Include in Project" from the menu.
<p>[caption id="attachment_120" align="aligncenter" width="318"]<a href="http://vidyasagarmsc.com/wp-content/uploads/2015/10/MFPCordova5.png"><img class="wp-image-120 size-full" src="{{ site.baseurl }}/assets/backup/MFPCordova5.png" alt="MFPCordova5" width="318" height="471" /></a> MFPCordova project in Visual studio 2015 with platforms folder[/caption]</li>
</ol>
<p>Now when you run MFP migrated cordova project on Visual Studio 2015, The output on Android Ripple-Nexus emulator should look like as shown in the figure below</p>
<p>[caption id="attachment_121" align="aligncenter" width="1366"]<a href="http://vidyasagarmsc.com/wp-content/uploads/2015/10/MFPCordova6.png"><img align="center" class="wp-image-121 size-full" src="{{ site.baseurl }}/assets/backup/MFPCordova6.png" alt="MFPCordova6" width="1366" height="728" /></a> MFPCordova project showing image selected using Cordova Camera plugin running on Android Ripple emulator[/caption]</p>
<p>You can import your custom plugins and add more Cordova supported platforms by opening config.xml file in Visual Studio 2015.</p>
<p>If you hit roadblocks or if you are happy with this blog, Feel free to add in the comments section below.</p>
<p>Happy Coding !!!</p>
