---
layout: tutorial
title: Tag-based notifications in hybrid applications
date: 2015-04-19 04:55:45.000000000 +03:00
type: tutorial
published: true
status: publish
categories: []
tags:
- 7-1
meta:
  _wpcom_is_markdown: '1'
  _edit_last: '6643'
  _syntaxhighlighter_encoded: '1'
  _wpas_done_all: '1'
author:
  login: iadar@il.ibm.com
  email: IADAR@il.ibm.com
  display_name: IdanAdar
  first_name: IDAN
  last_name: ADAR
---
<p class="breadcrumbs">
 &lt; <a href="/mobilefirstplatform/documentation/getting-started-7-1/notifications">Notifications</a>  &lt; <a href="/mobilefirstplatform/documentation/getting-started-7-1/notifications/push-notifications-hybrid-applications">Push notifications in hybrid applications</a></p>
<div id="samplesAndPersonas">
<div>
    Relevant to:</p>
<ul id="relevantForPersona">
<li class="hybrid">Hybrid</li>
</ul>
</div>
<ul>
<li class="download-sample">
          <a href="http://public.dhe.ibm.com/software/products/en/MobileFirstPlatform/docs/v710/TagBasedPushNotificationsProject.zip">Download sample</a>
        </li>
</ul>
</div>
<h2>Overview</h2>
<p>Tag notifications are notification messages that are targeted to all the devices that are subscribed to a particular tag.<br />
Tags represent topics of interest to the user and provide the ability to receive notifications according to the chosen interest.</p>
<h2>Setting up tags</h2>
<p>Tags are defined in the <code>application-descriptor.xml</code> file:</p>
<p>[code lang="xml"]&lt;tags&gt;<br />
    &lt;tag&gt;<br />
        &lt;name&gt;my tag 1&lt;/name&gt;<br />
        &lt;description&gt;About my tag 1&lt;/description&gt;<br />
    &lt;/tag&gt;<br />
    &lt;tag&gt;<br />
        &lt;name&gt;my tag 2&lt;/name&gt;<br />
        &lt;description&gt;About my tag 2&lt;/description&gt;<br />
    &lt;/tag&gt;<br />
&lt;/tags&gt;[/code]</p>
<h2>API methods for tag-based notification</h2>
<h3>Client-side API methods:</h3>
<ul>
<li><span class="inline-code">WL.Client.Push.subscribeTag(tagName,options)</span> - Subscribes the device to the specified tag name.</li>
<li><span class="inline-code">WL.Client.Push.unsubscribeTag(tagName,options)</span> - Unsubscribes the device from the specified tag name.</li>
<li><span class="inline-code">WL.Client.Push.isPushSupported()</span> - Returns <code>true</code> if push notifications are supported by the platform, or <code>false</code> otherwise.</li>
<li><span class="inline-code">WL.Client.Push.isTagSubscribed(tagName)</span> - Returns whether the device is subscribed to a specified tag name.</li>
</ul>
<h2>Common API methods for tag-based and broadcast notifications</h2>
<h4>Client-side API</h4>
<ul>
<li><code>WLNotificationListener</code><br />
    Defines the callback method to be notified when the notification arrives.</li>
<li><code>client.getPush().setWLNotificationListener(listener)</code><br />
    This method sets the implementation class of the <code>WLNotificationListener</code> interface.</li>
<li><code>client.getPush().setOnReadyToSubscribeListener(listener)</code><br />
    This method registers a listener to be used for push notifications. This listener must implement the <code>onReadyToSubscribe()</code> method.</li>
<li>The <code>onMessage(props,payload)</code> method of <code>WLNotificationListener</code> is called when a push notification is received by the device.
<ul>
<li><strong>props</strong> - A JSON block that contains the notification properties of the platform.</li>
<li><strong>payload</strong> - A JSON block that contains other data that is sent from MobileFirst Server. The JSON block also contains the tag name for tag-based or broadcast notification. The tag name appears in the "tag" element. For broadcast notification, the default tag name is <span class="inline-code">Push.ALL</span>.</li>
</ul>
</li>
</ul>
<h4>Server-side API</h4>
<p><code>WL.Server.sendMessage(applicationId,notificationOptions)</code><br />
<strong>applicationId</strong>&nbsp;- (mandatory) The name of the MobileFirst application.<br />
<strong>notificationOptions</strong>&nbsp;- (mandatory) A JSON block containing message properties.</p>
<p>Submits a notification based on the specified target parameters.</p>
<blockquote><p>For more information about tag-based notification, see the "tag-based notification" topic in the user documentation.</p></blockquote>
<h2>Sample application</h2>
<p><a href="http://public.dhe.ibm.com/software/products/en/MobileFirstPlatform/docs/v710/PushNotificationsHybridProject.zip">Click to download</a> the sample application.</p>
<p>The provided sample application demonstrates how to send a broadcast notification to the default autosubscribed <code>push.ALL</code> tag.<br />
The sample also demonstrates how to send notifications to two predefined tags, sample-tag1 and sample-tag2, to which the user can subscribe in the application.</p>
<p><a href="http://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2015/01/tag-notifications-2.png"><img src="{{ site.baseurl }}/assets/backup/tag-notifications-2.png" alt="tag-notifications-2" width="338" height="600" class="alignleft size-full wp-image-6342" /></a></p>
<p><a href="http://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2015/01/tag-broadcast-notifications-1.png"><img src="{{ site.baseurl }}/assets/backup/tag-broadcast-notifications-1.png" alt="tag-broadcast-notifications-1" width="338" height="600" class="alignleft size-full wp-image-6343" /></a><br />
<br clear="all" /></p>
