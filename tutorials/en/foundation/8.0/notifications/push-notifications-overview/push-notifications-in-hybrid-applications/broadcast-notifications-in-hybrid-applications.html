---
layout: tutorial
title: Broadcast notifications in hybrid applications
date: 2015-04-19 04:57:04.000000000 +03:00
type: tutorial
published: true
status: publish
categories: []
tags:
- 7-1
meta:
  _wpcom_is_markdown: '1'
  _edit_last: '6643'
  _syntaxhighlighter_encoded: '1'
  _wpas_done_all: '1'
author:
  login: iadar@il.ibm.com
  email: IADAR@il.ibm.com
  display_name: IdanAdar
  first_name: IDAN
  last_name: ADAR
---
<div id="samplesAndPersonas">
<div>
    Relevant to:</p>
<ul id="relevantForPersona">
<li class="hybrid">Hybrid</li>
</ul>
</div>
<ul>
<li class="download-sample">
          <a href="http://public.dhe.ibm.com/software/products/en/MobileFirstPlatform/docs/v710/TagBasedPushNotificationsProject.zip">Download sample</a>
        </li>
</ul>
</div>
<h2>Overview</h2>
<p>Broadcast notification are in fact tag-based notification, where a subscription to a reserved tag, <span class="inline-code">Push.ALL</span>, is auto-created for every device. Broadcast notifications are thus notification messages that are targeted to all subscribed devices.</p>
<p>Broadcast notifications are enabled by default for any push-enabled MobileFirst application.<br />
This ability can be disabled by by unsubscribing from the reserved <span class="inline-code">Push.ALL</span> tag.</p>
<blockquote><p>For more information about broadcast notifications, see the <a href="http://engtest01w.francelab.fr.ibm.com:9090/support/knowledgecenter/SSHS8R_7.0.0/com.ibm.worklight.dev.doc/devref/c_push_notif_broadcast.html">user documentation</a>.</p></blockquote>
<h2>Common API methods for tag-based and broadcast notifications</h2>
<h4>Client-side API:</h4>
<p><code>WL.Client.Push.onMessage (props, payload)</code></p>
<ul>
<li><strong>props</strong>&nbsp;- A JSON block that contains the notifications properties of the platform.</li>
<li><strong>payload</strong>&nbsp;- A JSON block that contains other data that is sent from the MobileFirst Server. It also contains the tag name for tag and broadcast notification. The tag name appears in the "tag" element. For broadcast notification, default tag name is <span class="inline-code">Push.ALL</span>.</li>
</ul>
<p>[code lang="js"]WL.Client.Push.onMessage = function (props, payload) {<br />
    alert(&quot;Provider notification data: &quot; + Object.toJSON(props));<br />
    alert(&quot;Application notification data: &quot; + Object.toJSON(payload));<br />
}[/code]</p>
<p>A callback function that is invoked when a push notification is received by the device.<br />
Set this function on a global JavaScript level. The Tag name <span class="inline-code">Push.ALL</span> is sent back in the payload parameter.</p>
<h4>Server-side API:</h4>
<p><code>WL.Server.sendMessage(applicationId,notificationOptions)</code><br />
<strong>applicationId</strong>&nbsp;- (mandatory) The name of the MobileFirst application.<br />
<strong>notificationOptions</strong>&nbsp;- (mandatory) A JSON block containing message properties.</p>
<p>Submits a notification based on the specified target parameters.</p>
<blockquote><p>For a full list of message properties, refer to the WL.Server.sendMessage API in the API reference of user documentation</p></blockquote>
<h2>Sample application</h2>
<p><a href="http://public.dhe.ibm.com/software/products/en/MobileFirstPlatform/docs/v710/PushNotificationsHybridProject.zip">Click to download</a> the sample application.</p>
<p>The provided sample application demonstrates sending a broadcast notification to the default auto-subscribed <code>push.ALL</code> tag.<br />
The sample also demonstrates sending notifications to two pre-defined tags, sample-tag1 and sample-tag2, to which the user can selects to subscribe to in the application.</p>
<p><a href="http://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2015/01/tag-notifications-2.png"><img src="{{ site.baseurl }}/assets/backup/tag-notifications-2.png" alt="tag-notifications-2" width="338" height="600" class="alignleft size-full wp-image-6342" /></a></p>
<p><a href="http://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2015/01/tag-broadcast-notifications-1.png"><img src="{{ site.baseurl }}/assets/backup/tag-broadcast-notifications-1.png" alt="tag-broadcast-notifications-1" width="338" height="600" class="alignleft size-full wp-image-6343" /></a><br />
<br clear="all" /></p>
