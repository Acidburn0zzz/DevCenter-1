---
layout: tutorial
title: Application Authenticity Protection in Native Android applications
date: 2014-10-21 10:19:18.000000000 +03:00
type: tutorial
published: true
status: publish
categories: []
tags: []
meta:
  _wpcom_is_markdown: '1'
  _edit_last: '6643'
  _wpas_done_all: '1'
  _syntaxhighlighter_encoded: '1'
author:
  login: iadar@il.ibm.com
  email: IADAR@il.ibm.com
  display_name: IdanAdar
  first_name: IDAN
  last_name: ADAR
---
<p class="breadcrumbs">
&lt; <a href="https://developer.ibm.com/mobilefirstplatform/documentation/getting-started-6-3/authentication-security/">Authentication and security</a> &lt; <a href="https://developer.ibm.com/mobilefirstplatform/documentation/getting-started-6-3/authentication-security/application-authenticity-protection/">Application Authenticity Protection<br />
</a></p>
<div>
    Relevant to:</p>
<ul id="relevantForPersona">
<li class="android"><a href="https://developer.ibm.com/mobilefirstplatform/documentation/getting-started-native-android-development-6-3/">Native Android</a></li>
</ul>
</div>
<p><br clear="all" /><br />
This is a continuation of the <a title="Application Authenticity Protection" href="http://developer.ibm.com/mobilefirstplatform/documentation/getting-started-6-3/authentication-security/application-authenticity-protection/">Application Authenticity Protection</a> tutorial.</p>
<h2>Adding required files</h2>
<p>From the MobileFirst project's Native API folder, copy the following folders to your native's project <code>lib</code> folder: <code>armabi</code>, <code>armabi-v7a</code>, <code>mips</code>, <code>x86</code>.</p>
<h2>application-descriptor.xml</h2>
<h4>Adding the security test</h4>
<p>Modify the <code>application-descriptor.xml</code> file of your application.<br />
Add the <em>securityTest</em> attribute to the Android or iPhone/iPad environment element. For example:</p>
<p>[code lang="xml"]&lt;iphone bundleId=&quot;com.worklight.MyBankApp&quot; applicationId=&quot;MyBankApp&quot; securityTest=&quot;customTests&quot; version=&quot;1.0“&gt;[/code]</p>
<p>&nbsp;</p>
<h4>Adding the public signing key</h4>
<p><strong>Extract the public signing key of the certificate that is used to sign application bundle (<em>.apk</em> file). </strong></p>
<ul>
<li>If building the application for distribution (production), extract the public key from the certificate that is used to sign the production ready application.</li>
<li>If building an application in the development environment, the default public key that is supplied by the Android SDK can be used. The development certificate can be found in a keystore that is in a <strong>{user-home}/.android/debug.keystore</strong> file.</li>
</ul>
<p>The public signing key can be extracted either manually or by using the wizard that MobileFirst Studio provides.<br />
To use the wizard:</p>
<ul>
<li>Right-click the Android NativeAPI folder and select <strong>Extract public signing key</strong>.</li>
<li>Specify the location and the password of a keystore file, and click <strong>Load Keystore</strong>. The default password for <code>debug.keystore</code> is “android”.</li>
<li>Set the <strong>Key alias</strong> and click <strong>Next</strong>.</li>
<li>A dialog opens that displays the public key.</li>
<li>Click <strong>Finish</strong> to automatically paste the public signing key to the relevant section of the <code>application-descriptor.xml</code> file.</li>
</ul>
<p><a href="http://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2014/10/08_11_adding_public_signing_key.png"><img class="aligncenter size-medium wp-image-1570" src="{{ site.baseurl }}/assets/backup/08_11_adding_public_signing_key-300x127.png" alt="08_11_adding_public_signing_key" width="300" height="127" /></a></p>
<p><strong>Add the Application package name by using the Application Descriptor Editor (design view):</strong></p>
<p><a href="https://developer.ibm.com/mobileplatform/wp-content/uploads/sites/32/2014/07/09_15_android-package-name-editor.png"><img class="aligncenter wp-image-1092 size-full" src="{{ site.baseurl }}/assets/backup/09_15_android-package-name-editor.png" alt="09_15_android-package-name-editor" width="700" height="164" /></a></p>
<p>Take the Application package name value from the package attribute of the <em>manifest</em> node in the <strong>AndroidManifest.xml</strong>.<br />
If you decide to change the value to another, verify that you change it in both locations.</p>
<p>The <code>application-descriptor.xml</code> file can also be edited directly to add the <em>packageName</em>:</p>
<p>[code lang="xml" highlight="8"]<br />
&lt;android version=&quot;1.0&quot; securityTest=&quot;customTests&quot;&gt;<br />
     &lt;worklightSettings include=&quot;false&quot;/&gt;<br />
     &lt;security&gt;<br />
         &lt;encryptWebResources enabled=&quot;false&quot;/&gt;<br />
         &lt;testWebResourcesChecksum enabled=&quot;false&quot;<br />
             ignoreFileExtensions=&quot;png, jpg, jpeg, gif, mp4, mp3&quot;/&gt;<br />
         &lt;publicSigningKey&gt;MIGfM …&lt;/publicSigningKey&gt;<br />
         &lt;packageName&gt;com.MyBankApp&lt;/packageName&gt;<br />
     &lt;/security&gt;<br />
&lt;/android&gt;<br />
[/code]</p>
