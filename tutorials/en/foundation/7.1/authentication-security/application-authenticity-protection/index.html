---
layout: tutorial
title: Application Authenticity Protection
show_children: true
relevantTo: [ios,android,windowsphone8,windows8,hybrid]
---
<h2 id="overview">Overview</h2>
<p>By issuing an HTTP request, any entity can access the HTTP services (APIs) that IBM MobileFirst Platform Foundation Server offers.<br />
The Application Authenticity Protection feature ensures that an application that tries to connect to a MobileFirst Server instance is the authentic one and was not tampered with or modified by a third-party attacker.</p>
<p>Application authenticity protection is available for:</p>
<ul>
<li>Android: native and hybrid</li>
<li>iOS: native and hybrid</li>
<li>Windows Universal: native and hybrid</li>
<li>Windows Phone Silverlight 8: hybrid only</li>
</ul>
<p><strong>Note:</strong><br />
Application Authenticity Protection is <strong>not available</strong> in the MobileFirst Development Server. To test, deploy the application to a MobileFirst Server instance on a remote application server.</p>
<h3>Agenda</h3>
<ul>
<li><a href="#authenticityFlowAndTypes">Authenticity flow and types</a></li>
<li><a href="#setup">Setting up authenticity</a></li>
</ul>
<h2 id="authenticityFlowAndTypes">Authenticity flow and types</h2>
<p><a href="https://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2015/04/09_15_check_flow.jpg"><img src="{{ site.baseurl }}/assets/backup/09_15_check_flow.jpg" alt="09_15_check_flow" width="720" height="400" class="aligncenter size-full wp-image-15623" /></a></p>
<p>The challenge token is processed by compiled native code, so that third-party attackers cannot see the logic of this processing.</p>
<p>Application Authenticity Protection is based on certificate keys that are used to sign the application bundles.<br />
Only the developer or the enterprise who have the original private key that was used to create the application are able to modify, repackage, and re-sign the bundle.</p>
<p>Three levels of authenticity are available:</p>
<ol>
<li>No Authenticity</li>
<li>Basic Authenticity</li>
<li>Extended Authenticity (Provides a more detailed verification and is more secured)</li>
</ol>
<h2 id="setup">Setting up authenticity</h2>
<p>To set up application authenticity protection, you go through the following two steps:</p>
<ol>
<li><a href="#projectLevelSetup">Project-level setup</a></li>
<li><a href="#environmentSpecificSetup">Environment-specific setup</a></li>
</ol>
<h3 id="projectLevelSetup">Project-level setup</h3>
<p>Whether you want Basic or Extended authenticity protection, the following setup steps are required.<br />
<em>Extended</em> authenticity protection requires additional setup steps, which are explained in the <a href="#enablingExtendedApplicationAuthenticityProtection">Enabling extended protection</a> section.</p>
<h4>Modify the <code>authenticationConfig.xml</code> configuration file</h4>
<ol>
<li>Add the relevant authentication realm to a security test.
<ul>
<li>If a <code>mobileSecurityTest</code> is used, add the <code>testAppAuthenticity</code> child element to it:<br />
[code lang="xml" highlight="2"]<br />
&lt;mobileSecurityTest name=&quot;MyMobileAuthenticityTest&quot;&gt;<br />
  &lt;testAppAuthenticity/&gt;<br />
  &lt;testDeviceId provisioningType=&quot;none&quot; /&gt;<br />
  &lt;testUser realm=&quot;myMobileLoginForm&quot; /&gt;<br />
&lt;/mobileSecurityTest&gt;<br />
[/code]
</li>
<li>If a <code>customSecurityTest</code> is used, add the <code>wl_authenticityRealm</code> realm to it:<br />
[code lang="xml" highlight="2"]<br />
&lt;customSecurityTest name=&quot;MyCustomAuthenticityTest&quot; &gt;<br />
  &lt;test realm=&quot;wl_authenticityRealm&quot; step=&quot;1&quot;/&gt;<br />
  &lt;test realm=&quot;wl_anonymousUserRealm&quot; isInternalUserID=&quot;true&quot; step=&quot;1&quot;/&gt;<br />
  &lt;test realm=&quot;wl_deviceNoProvisioningRealm&quot; step=&quot;2&quot; isInternalDeviceID=&quot;true&quot;/&gt;<br />
&lt;/customSecurityTest&gt;<br />
[/code]
</li>
</ul>
</li>
<li>After you have configured the authenticity realm and security check, go to <a href="#environmentSpecificSetup">Environment-specific setup</a> and select your environment to complete the authenticity configuration.</li>
</ol>
<h3 id="enablingExtendedApplicationAuthenticityProtection">Enabling extended application authenticity protection</h3>
<p>To enable extended authenticity checking, you must deploy a modified <code>.wlapp</code> file, instead of the original <code>.wlapp</code> file that is generated by the build process.</p>
<ol>
<li>Modify the <code>.wlapp</code> file by using the <code>wladm</code> program or the <code>wladm</code> Ant task: </li>
<ul>
<li><strong>By using the <code>wladm</code> program</strong><br />
Use the <code>wladm</code> program (provided in the MobileFirst installation directory) to run the <code>enable extended-authenticity</code> command:<br />
[code lang="Java"]<br />
wladm enable extended-authenticity src-wlapp-file device-file &gt; dest-wlapp-file<br />
[/code]</p>
<ul>
<li><code>src-wlapp-file</code> => Original binary app file (<code>.wlapp</code>)</li>
<li><code>device-file</code> => Binary mobile app file (<code>.apk</code>, <code>.ipa</code>, or <code>.xap</code>)</li>
<li><code>dest-wlapp-file</code> => Output binary app file (<code>.wlapp</code>)</li>
</ul>
<p>After running the <code>wladm</code>, deploy the resulting file to the MobileFirst Server instance.</p>
</li>
<li><strong>By using the <code>wladm</code> Ant task</strong><br />
Use the <code>wladm</code> Ant task (provided in the MobileFirst installation directory) to run the <code>enable-extended-authenticity</code> command:<br />
[code lang="XML"]<br />
&lt;enable-extended-authenticity srcwlappfile=&quot;original-.wlapp-file&quot;<br />
    devicefile=&quot;device file(.apk, .ipa, or .xap)&quot;<br />
    destwlappfile=&quot;output-.wlapp-file&quot;/&gt;<br />
[/code]
  </li>
</ul>
<li>After running the <code>wladm</code> command or Ant task, deploy the resulting file to MobileFirst Server instance.</li>
</ol>
<p>You can use the MobileFirst Operations Console to see the authenticity level of an application.</p>
<p><a href="https://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2015/04/ExtendedAuthenticityAndroid.png"><img src="{{ site.baseurl }}/assets/backup/ExtendedAuthenticityAndroid.png" alt="ExtendedAuthenticityAndroid" width="927" height="209" class="aligncenter size-full wp-image-15670" /></a></p>
<blockquote><p>For more information, see the topic about configuring extended app authenticity checking, in the user documentation.</p></blockquote>
<h3 id="environmentSpecificSetup">Environment-specific setup</h3>
<p>For basic authenticity, go through the basic configuration steps.<br />
For extended authenticity, it is recommended to make these extra configuration changes.</p>
