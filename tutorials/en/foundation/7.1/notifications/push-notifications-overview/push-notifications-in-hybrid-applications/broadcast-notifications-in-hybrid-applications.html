---
layout: tutorial
title: Broadcast notifications in hybrid applications
relevantTo: [hybrid]
---
<ul>
<li class="download-sample">
          <a href="http://public.dhe.ibm.com/software/products/en/MobileFirstPlatform/docs/v710/TagBasedPushNotificationsProject.zip">Download sample</a>
        </li>
</ul>

<h2>Overview</h2>
<p>Broadcast notification are in fact tag-based notification, where a subscription to a reserved tag, <code>Push.ALL</code>, is auto-created for every device. Broadcast notifications are thus notification messages that are targeted to all subscribed devices.</p>
<p>Broadcast notifications are enabled by default for any push-enabled MobileFirst application.<br />
This ability can be disabled by by unsubscribing from the reserved <code>Push.ALL</code> tag.</p>
<blockquote><p>For more information about broadcast notifications, see the <a href="http://engtest01w.francelab.fr.ibm.com:9090/support/knowledgecenter/SSHS8R_7.0.0/com.ibm.worklight.dev.doc/devref/c_push_notif_broadcast.html">user documentation</a>.</p></blockquote>
<h2>Common API methods for tag-based and broadcast notifications</h2>
<h4>Client-side API:</h4>
<p><code>WL.Client.Push.onMessage (props, payload)</code></p>
<ul>
<li><strong>props</strong>&nbsp;- A JSON block that contains the notifications properties of the platform.</li>
<li><strong>payload</strong>&nbsp;- A JSON block that contains other data that is sent from the MobileFirst Server. It also contains the tag name for tag and broadcast notification. The tag name appears in the "tag" element. For broadcast notification, default tag name is <code>Push.ALL</code>.</li>
</ul>
<p>{% highlight js %}WL.Client.Push.onMessage = function (props, payload) {<br />
    alert("Provider notification data: " + Object.toJSON(props));<br />
    alert("Application notification data: " + Object.toJSON(payload));<br />
}{% endhighlight %}</p>
<p>A callback function that is invoked when a push notification is received by the device.<br />
Set this function on a global JavaScript level. The Tag name <code>Push.ALL</code> is sent back in the payload parameter.</p>
<h4>Server-side API:</h4>
<p><code>WL.Server.sendMessage(applicationId,notificationOptions)</code><br />
<strong>applicationId</strong>&nbsp;- (mandatory) The name of the MobileFirst application.<br />
<strong>notificationOptions</strong>&nbsp;- (mandatory) A JSON block containing message properties.</p>
<p>Submits a notification based on the specified target parameters.</p>
<blockquote><p>For a full list of message properties, refer to the WL.Server.sendMessage API in the API reference of user documentation</p></blockquote>
<h2>Sample application</h2>
<p><a href="http://public.dhe.ibm.com/software/products/en/MobileFirstPlatform/docs/v710/PushNotificationsHybridProject.zip">Click to download</a> the sample application.</p>
<p>The provided sample application demonstrates sending a broadcast notification to the default auto-subscribed <code>push.ALL</code> tag.<br />
The sample also demonstrates sending notifications to two pre-defined tags, sample-tag1 and sample-tag2, to which the user can selects to subscribe to in the application.</p>
<p><img src="{{ site.baseurl }}/assets/backup/tag-notifications-2.png" /></p>
<p><img src="{{ site.baseurl }}/assets/backup/tag-broadcast-notifications-1.png" /><br />
<br clear="all" /></p>
