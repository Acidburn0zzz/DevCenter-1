<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../">
  <title data-ice="title">ibm-mobile-first/wlLogger.js | react-native-ibm-mobilefirst</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="## Getting started"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="react-native-ibm-mobilefirst"><meta property="twitter:description" content="## Getting started"></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a href="https://github.ibm.com/MobileFirst/mfp-react-native">Repository</a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ibm-mobile-first/wlAnalytics.js~WLAnalytics.html">WLAnalytics</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ibm-mobile-first/wlAuthorizationManager.js~WLAuthorizationManager.html">WLAuthorizationManager</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ibm-mobile-first/wlClient.js~WLClient.html">WLClient</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ibm-mobile-first/wlLogger.js~WLLogger.html">WLLogger</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/ibm-mobile-first/wlResourceRequest.js~WLResourceRequest.html">WLResourceRequest</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">ibm-mobile-first/wlLogger.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import React, { Component } from &apos;react&apos;;
import {
  Platform,
  NativeModules,
  NativeAppEventEmitter,
  DeviceEventEmitter
} from &apos;react-native&apos;;

var wlLogger = NativeModules.RNLogger;

if (Platform.OS === &apos;ios&apos;){
  listener = NativeAppEventEmitter;
}else{
  listener = DeviceEventEmitter;
}


/**
 * WLLogger is a class for logging that provides some enhanced capability such as capturing log calls, 
 * package filtering, and log level control at both global and individual package scope. 
 * It also provides a method call to send captured logs to the IBM MobileFirst Platform server. 
 * When this Logger class&apos;s capture flag is turned on via setCapture(true) method call, 
 * all messages passed through this class&apos;s log methods will be persisted to store in the following JSON object format:
 * {
 *  &quot;timestamp&quot;    : &quot;17-02-2013 13:54:27:123&quot;,  // &quot;dd-MM-yyyy hh:mm:ss:S&quot;
 *  &quot;level&quot;        : &quot;ERROR&quot;,                    // FATAL || ERROR || WARN || INFO || LOG || DEBUG || TRACE
 *  &quot;package&quot;      : &quot;your_tag&quot;,                 // typically a class name, app name, or JavaScript object name
 *  &quot;msg&quot;          : &quot;the message&quot;,              // a helpful log message
 *  &quot;metadata&quot;     : {&quot;hi&quot;: &quot;world&quot;},            // (optional) additional JSON metadata, appended via doLog API call
 *  &quot;threadid&quot;     : long                        // (optional) id of the current thread
 * }
 *  Log file data is sent to the IBM MobileFirst Platform server when this class&apos;s send() method is called and the accumulated log size is greater than zero. 
 * When the log data is successfully uploaded, the persisted local log data is deleted.
 */
class WLLogger{
  
 /**
  * @constructor
  * Create or get an instance of the WLLogger class for a given tag. 
  */
  constructor(tag){
    console.log(&quot;WLLogger constructor&quot;);
    this.init(tag); 
  }

  /**
   * @ignore
   */
  init(tag){
    this.logTag = tag;
    return this ; 
  }

  /** DEBUG */
  
  /**
   * Logs a message at DEBUG level
   * @param {string} message - The message to log. 
   */
  debug(message){
    wlLogger.debug(this.logTag, message);
  }

  /**
   * Logs a message at DEBUG level with additional metadata. The metadata is available as custom fields while creating custom charts on the MobileFirst Analytics Console. 
   * @param {string} message - The message to log
   * @param {Object} metadata - Any additional metadata to log. 
   */
  debugWithMetadata(message, metadata){
    console.log(&quot;Tag is &quot; + this.logTag);
    wlLogger.debugWithMetadata(this.logTag, message, metadata);
  }

  /** ERROR */

  /**
   * Logs a message at ERROR level
   * @param {string} message - The error  message to log. 
   */
  error(message){
    console.log(&quot;Tag is &quot; + this.logTag);
    wlLogger.error(this.logTag, message);
  }

  /**
   * Logs a message at ERROR level with additional metadata. The metadata is available as custom fields while creating custom charts on the MobileFirst Analytics Console. 
   * @param {string} message - The error message to log
   * @param {Object} metadata - Any additional metadata to log. 
   */
  errorWithMetadata(message, metadata){
    console.log(&quot;Tag is &quot; + this.logTag);
    wlLogger.errorWithMetadata(this.logTag, message, metadata);
  }


  /** WARN */

  /**
   * Logs a message at WARN level
   * @param {string} message - The warning message to log. 
   */
  warn(message){
    console.log(&quot;Tag is &quot; + this.logTag);
    wlLogger.warn(this.logTag, message);
  }

  /**
   * Logs a message at WARN level with additional metadata. The metadata is available as custom fields while creating custom charts on the MobileFirst Analytics Console. 
   * @param {string} message - The warning message to log
   * @param {Object} metadata - Any additional metadata to log. 
   */
  warnWithMetadata(message, metadata){
    console.log(&quot;Tag is &quot; + this.logTag);
    wlLogger.warnWithMetadata(this.logTag, message, metadata);
  }


  /** INFO */

  /**
   * Logs a message at INFO level
   * @param {string} message - The information message to log. 
   */
  info(message){
    console.log(&quot;Tag is &quot; + this.logTag);
    wlLogger.info(this.logTag, message);
  }

  /**
   * Logs a message at INFO level with additional metadata. The metadata is available as custom fields while creating custom charts on the MobileFirst Analytics Console. 
   * @param {string} message - The information message to log
   * @param {Object} metadata - Any additional metadata to log. 
   */
  infoWithMetadata(message, metadata){
    console.log(&quot;Tag is &quot; + this.logTag);
    wlLogger.infoWithMetadata(this.logTag, message, metadata);
  }


  /** TRACE */

  /**
   * Logs a message at TRACE level
   * @param {string} message - The trace message to log. 
   */
  trace(message){
    console.log(&quot;Tag is &quot; + this.logTag);
    wlLogger.trace(this.logTag, message);
  }

  /**
   * Logs a message at TRACE level with additional metadata. The metadata is available as custom fields while creating custom charts on the MobileFirst Analytics Console. 
   * @param {string} message - The trace message to log
   * @param {Object} metadata - Any additional metadata to log. 
   */
  traceWithMetadata(message, metadata){
    console.log(&quot;Tag is &quot; + this.logTag);
    wlLogger.traceWithMetadata(this.logTag, message, metadata);
  }

  /**
   * Global setting to turn persisting of log data passed to this class&apos;s log methods on or off.
   * @param {boolean} capture - True to turn on logging, false to turn it off. 
   */
  setCapture(capture){
    wlLogger.setCapture(capture); 
  }

  /**
   * Get the current value of the capture flag, indicating that the Logger is recording log calls persistently. 
   * @return {Promise&lt;boolean&gt;} - true, if logging is enabled, false otherwise.
   */
  async getCapture(){
    return await wlLogger.getCapture();
  }

  /**
   * Filter on packages at and above designated LEVEL. 
   * This is a white list. Any package not listed in the filters will not be logged. 
   * Pass null or an empty HashMap parameter to remove filters and resume logging at the default LEVEL.
   * @param {Object} filter - set of filters and associated level (and above) to allow for logging
   */
  setFilters(filter) { 
    wlLogger.setFilters(filter);
  }

  /**
   * Get the current list of filters.
   * @return {Promise&lt;Object&gt;} - The current list of filters in the form of  {&quot;packageName&quot; : &quot;LEVEL&quot;}
   */
  async getFilters(){
    return await wlLogger.getFilters();
  }

  /**
   * Get the current Logger level.
   * @return {Promise&lt;string&gt;} - A string representation of the current Logging level. Possible values are TRACE, INFO, DEBUG, WARN, ERROR.
   */
  async getLevel(){
    return await wlLogger.getLevel();
  }

  /**
   * Send the accumulated log data when the persistent log buffer exists and is not empty. 
   * The data accumulates in the log buffer from the use of Logger with capture turned on.
   */
  send(){
    wlLogger.send();
  }

  /**
   * Set the level and above at which log messages should be saved/printed. 
   * A null parameter value is ignored and has no effect.
   * @param {string} level - A string representation of the Logger level. Valid values are &quot;TRACE&quot;, &quot;INFO&quot;, &quot;DEBUG&quot;, &quot;WARN&quot;, &quot;ERROR&quot;
   */
  setLevel(level){
    wlLogger.setLevel(level);
  }

  /**
   * Get and apply the configuration from the IBM MobileFirst Platform Server. 
   * The configuration comes from the use of the &quot;Config Profiles&quot; tab in the IBM MobileFirst Platform administrative console.
   */
  updateConfigFromServer(){
    wlLogger.updateConfigFromServer();
  }

  /**
   * Get the current setting for the max file size threshold.
   * @return {Promise&lt;number&gt;} - The current threashold of the maximum file size. 
   */
  async getMaxFileSize(){
    return await wlLogger.getMaxFileSize();
  }

  /**
   * Set the maximum size of the local log file. Once the maximum file size is reached, no more data will be appended. 
   * The file must then be sent to the server using the send() API. 
   * @param {number} sizeInBytes - The maximum size of the file in number of bytes. The minimum is 10000.
   */
  setMaxFileSize(sizeInBytes){
    wlLogger.setMaxFileSize(sizeInBytes);
  }
}
export default WLLogger
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
