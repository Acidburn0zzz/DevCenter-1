<!DOCTYPE html>
<html lang="en">
  <head>
    <title>GatewayChallengeHandlerSwift Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset="utf-8">
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>

    <script src="../js/lunr.min.js" defer></script>
    <script src="../js/typeahead.jquery.js" defer></script>
    <script src="../js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Class/GatewayChallengeHandlerSwift" class="dashAnchor"></a>

    <a title="GatewayChallengeHandlerSwift Class Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="../index.html">
           Swift Client-side API Reference
        </a>

      </p>

      <!-- <p class="header-col--secondary">
        <form role="search" action="../search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p> -->


    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="../index.html"> Reference</a>
      <img class="carat" src="../img/carat.png" />
      GatewayChallengeHandlerSwift Class Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/BaseChallengeHandlerSwift.html">BaseChallengeHandlerSwift</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/GatewayChallengeHandlerSwift.html">GatewayChallengeHandlerSwift</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/OCLoggerSwift.html">OCLoggerSwift</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/SecurityCheckChallengeHandlerSwift.html">SecurityCheckChallengeHandlerSwift</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/WLAnalyticsSwift.html">WLAnalyticsSwift</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/WLAuthorizationManagerSwift.html">WLAuthorizationManagerSwift</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/WLClientSwift.html">WLClientSwift</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/WLFailResponseSwift.html">WLFailResponseSwift</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/WLResourceRequestSwift.html">WLResourceRequestSwift</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/WLResponseSwift.html">WLResponseSwift</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/WLSecurityUtilsSwift.html">WLSecurityUtilsSwift</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/WLSimpleDataSharingSwift.html">WLSimpleDataSharingSwift</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/OCLogTypeSwift.html">OCLogTypeSwift</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/WLDelegateSwift.html">WLDelegateSwift</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            <h1>GatewayChallengeHandlerSwift</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight swift"><code><span class="kd">open</span> <span class="kd">class</span> <span class="kt">GatewayChallengeHandlerSwift</span> <span class="p">:</span> <span class="kt">GatewayChallengeHandler</span></code></pre>

                </div>
              </div>
            <p>You use this base class to create custom challenge handlers when using gateways. You must extend this class to implement your own challenge handler logic. You use this class to create custom user authentication with external gateways.</p>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:24IBMMobileFoundationSwift023GatewayChallengeHandlerC0C11gatewayNameACSS_tcfc"></a>
                    <a name="//apple_ref/swift/Method/init(gatewayName:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:24IBMMobileFoundationSwift023GatewayChallengeHandlerC0C11gatewayNameACSS_tcfc">init(gatewayName:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Initialize a challenge handler for the specific gateway.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">override</span> <span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="nv">gatewayName</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>gatewayName</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>an arbitrary name for the challenge handler</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:24IBMMobileFoundationSwift023GatewayChallengeHandlerC0C13submitSuccess8responseyAA010WLResponseC0C_tF"></a>
                    <a name="//apple_ref/swift/Method/submitSuccess(response:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:24IBMMobileFoundationSwift023GatewayChallengeHandlerC0C13submitSuccess8responseyAA010WLResponseC0C_tF">submitSuccess(response:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>You must call this method when the challenge is answered successfully, for example after the user successfully submits the login form. Then, this method sends the original request. Calling this method informs IBM MobileFirst Platform that the challenge was successfully handled. This method can also be used to inform IBM MobileFirst Platform that the response that was received is not a custom response that your challenge handler can handle. In this case, control is returned to IBM MobileFirst Platform, to handle the response.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">submitSuccess</span><span class="p">(</span><span class="nv">response</span><span class="p">:</span> <span class="kt"><a href="../Classes/WLResponseSwift.html">WLResponseSwift</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>response</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The received <strong>WLResponseSwift</strong>.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:24IBMMobileFoundationSwift023GatewayChallengeHandlerC0C17canHandleResponse8responseSbAA010WLResponseC0C_tF"></a>
                    <a name="//apple_ref/swift/Method/canHandleResponse(response:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:24IBMMobileFoundationSwift023GatewayChallengeHandlerC0C17canHandleResponse8responseSbAA010WLResponseC0C_tF">canHandleResponse(response:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>This method must be overridden by extending the GatewayChallengeHandler class. In most cases, you call this method to test whether there is a custom challenge to be handled in the response. If this method returns YES, IBM MobileFirst Platform calls the handleChallenge method.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">canHandleResponse</span><span class="p">(</span><span class="nv">response</span><span class="p">:</span> <span class="kt"><a href="../Classes/WLResponseSwift.html">WLResponseSwift</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>response</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The WLResponseSwift to be tested.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:24IBMMobileFoundationSwift023GatewayChallengeHandlerC0C15submitLoginForm10requestUrl0J10Parameters0J7Headers0J21TimeoutInMilliSeconds0J6MethodySS_SDys11AnyHashableVypGSgAMs5Int32VSSSgtF"></a>
                    <a name="//apple_ref/swift/Method/submitLoginForm(requestUrl:requestParameters:requestHeaders:requestTimeoutInMilliSeconds:requestMethod:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:24IBMMobileFoundationSwift023GatewayChallengeHandlerC0C15submitLoginForm10requestUrl0J10Parameters0J7Headers0J21TimeoutInMilliSeconds0J6MethodySS_SDys11AnyHashableVypGSgAMs5Int32VSSSgtF">submitLoginForm(requestUrl:requestParameters:requestHeaders:requestTimeoutInMilliSeconds:requestMethod:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>You use this method to send collected credentials to a specific URL. You can also specify request parameters, headers, and timeout.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">submitLoginForm</span><span class="p">(</span><span class="nv">requestUrl</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">requestParameters</span><span class="p">:</span> <span class="p">[</span><span class="kt">AnyHashable</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">]</span><span class="o">!</span><span class="p">,</span> <span class="nv">requestHeaders</span><span class="p">:</span> <span class="p">[</span><span class="kt">AnyHashable</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">]</span><span class="o">!</span><span class="p">,</span> <span class="nv">requestTimeoutInMilliSeconds</span><span class="p">:</span> <span class="kt">Int32</span><span class="p">,</span> <span class="nv">requestMethod</span><span class="p">:</span> <span class="kt">String</span><span class="o">!</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>requestUrl</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Absolute URL if the user sends an absolute url that starts with http:// or https:// Otherwise, URL relative to the IBM MobileFirst Platform Server</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>parameters</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The request parameters</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>headers</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The request headers</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>timeout</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>supply custom timeout, use a number over 0. If the number is under 0, IBM MobileFirst Platform uses the default timeout, which is 10,000 milliseconds.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>method</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The HTTP method that you must use. Acceptable values are GET, POST.The default value is POST.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:24IBMMobileFoundationSwift023GatewayChallengeHandlerC0C06handleE08responseyAA010WLResponseC0C_tF"></a>
                    <a name="//apple_ref/swift/Method/handleChallenge(response:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:24IBMMobileFoundationSwift023GatewayChallengeHandlerC0C06handleE08responseyAA010WLResponseC0C_tF">handleChallenge(response:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>IBM MobileFirst Platform must call this method whenever isCustomResponse returns a YES value. You must implement this method. This method must handle the challenge, for example to show the login screen.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">open</span> <span class="kd">func</span> <span class="nf">handleChallenge</span><span class="p">(</span><span class="nv">response</span><span class="p">:</span> <span class="kt"><a href="../Classes/WLResponseSwift.html">WLResponseSwift</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>response</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The response to be handled</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:24IBMMobileFoundationSwift023GatewayChallengeHandlerC0C9onSuccess15successResponseyAA010WLResponseC0C_tF"></a>
                    <a name="//apple_ref/swift/Method/onSuccess(successResponse:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:24IBMMobileFoundationSwift023GatewayChallengeHandlerC0C9onSuccess15successResponseyAA010WLResponseC0C_tF">onSuccess(successResponse:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>This method is the success delegate for submitLoginForm</p>

<p>This method is called when a successful HTTP response is received (200 OK). This method does not indicate whether the challenge was successful or not. A 200 HTTP response can flow back indicating problems with authentication on the server or requesting additional information.</p>

<p>Some examples of a 200 HTTP response are as follows:</p>

<ul>
<li><p>First init request returns a normal 200 HTTP response that requests a pkms login form Authentication failed on the server.</p></li>
<li><p>A 200 HTTP response, indicating that the account is locked on the server due to too many failed login attempts.</p></li>
</ul>

<p>This is a good place to check whether the response is a custom response and handle it accordingly. If the response is not a custom response, you can call submitSuccess to indicate that all is good from your challenge handler’s perspective, and that IBM MobileFirst Platform can handle the response instead.</p>
<h2 id='note' class='heading'>Note</h2>

<p>IBM MobileFirst Platform does not attempt to determine what the 200 response means.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">open</span> <span class="kd">func</span> <span class="nf">onSuccess</span><span class="p">(</span><span class="nv">successResponse</span><span class="p">:</span> <span class="kt"><a href="../Classes/WLResponseSwift.html">WLResponseSwift</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>successResponse</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The recieved response.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:24IBMMobileFoundationSwift023GatewayChallengeHandlerC0C9onFailure15failureResponseyAA06WLFailjC0C_tF"></a>
                    <a name="//apple_ref/swift/Method/onFailure(failureResponse:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:24IBMMobileFoundationSwift023GatewayChallengeHandlerC0C9onFailure15failureResponseyAA06WLFailjC0C_tF">onFailure(failureResponse:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>This method is the failure delegate for submitLoginForm</p>

<p>This method is called when a response does not have a 200 HTTP status code. This method does not indicate whether the challenge was successful or not. In some cases onFailure is an indication of a normal challenge handling sequence.</p>

<p>An example of when the onFailure method is called is when a 401 Unauthorized response is received.</p>

<p>A successful handshake can entail several 401 response iterations and therefore several onFailure calls. This behavior is all part of the normal handshake between two parties that are trying to establish identity. IBM MobileFirst Platform handles the handshakes for core challenges iteratively until all of the credentials are established and the necessary challenges are processed.</p>

<p>This is a good place to check whether the response is a custom response and handle it accordingly. If the response is not a custom response, you can call submitSuccess to indicate that all is good from your challenge handler’s perspective, and that IBM MobileFirst Platform can handle the response instead.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">open</span> <span class="kd">func</span> <span class="nf">onFailure</span><span class="p">(</span><span class="nv">failureResponse</span><span class="p">:</span> <span class="kt"><a href="../Classes/WLFailResponseSwift.html">WLFailResponseSwift</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>failResponse</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The received fail response.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section style="text-align: center;" class="footer">
        <p>&copy; Copyright IBM Corp. 2019</p>
    </section>
  </body>
</div>
</html>
